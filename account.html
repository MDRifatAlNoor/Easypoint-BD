<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Easypoint BD | Account</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
  background: linear-gradient(135deg,#667eea,#764ba2);
  min-height:100vh;
  font-family:Montserrat,sans-serif;
  padding-top:400px;
  align-items: center;
  justify-content: center;
  display:flex; /* ğŸ”’ hidden by default */
  flex-direction: column;
}

.navbar{ background:#111; }
.navbar-brand{ font-weight:700; color:#ff416c !important; }
.nav-link{ color:#fff !important; }
.nav-link.active, .nav-link:hover{ color:#ff416c !important; }

.account-box{
  background:#fff;
  padding:40px;
  border-radius:16px;
  max-width:520px;
  margin:auto;
  box-shadow:0 20px 40px rgba(0,0,0,.3);
  text-align:center;
}

/* ğŸ”„ Loading screen */
#loading{
  position:fixed;
  inset:0;
  background:#111;
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
  z-index:9999;
}
</style>
</head>

<body>

<!-- ğŸ”„ LOADING -->
<div id="loading">Checking accountâ€¦</div>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
  <div class="container">
    <a class="navbar-brand" href="index.html">Easypoint BD</a>
    <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="cart.html">Cart</a></li>
        <li class="nav-item"><a class="nav-link" href="checkout.html">Checkout</a></li>
        <li class="nav-item"><a class="nav-link active" href="account.html">Account</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- ACCOUNT BOX -->
<div class="account-box">
  <h3 class="fw-bold mb-4">My Account</h3>
  <a href="sign.html" class="btn btn-primary w-100 mb-3">Sign Up</a>
  <a href="signin.html" class="btn btn-outline-dark w-100">Login</a>
</div>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyApZK1uKspkk_yu8mCKDH44rDnmJzjvv00",
  authDomain: "myshop-f7a03.firebaseapp.com",
  projectId: "myshop-f7a03",
  storageBucket: "myshop-f7a03.firebasestorage.app",
  messagingSenderId: "793564064034",
  appId: "1:793564064034:web:fcc5230ff28a5ee8005d7b"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

const body = document.body;
const loader = document.getElementById("loading");

onAuthStateChanged(auth, (user) => {
  if (user) {
    // ğŸ” Logged in â†’ go dashboard immediately
    window.location.replace("user-dashboard.html");
  } else {
    // ğŸ”“ Not logged in â†’ show account page
    loader.style.display = "none";
    body.style.display = "block";
  }
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>